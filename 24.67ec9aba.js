(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{292:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(306),r=a.n(n);function s(){if(window.location.hash.startsWith("#src=")){const e=window.location.hash.replace("#src=","").trim();return decodeURIComponent(e)}if(window.location.hash.startsWith("#code/")){var e;const t=window.location.hash.replace("#code/","").trim();return null!=(e=r.a.decompressFromEncodedURIComponent(t))?e:""}return"// Declare exposed API\ntype Vector = [number, number, number];\n\ndeclare function findUnitsInRadius(this: void, center: Vector, radius: number): Unit[];\ndeclare interface Unit {\n    isEnemy(other: Unit): boolean;\n    kill(): void;\n}\n\n\n// Use declared API in code\nfunction onAbilityCast(this: void, caster: Unit, targetLocation: Vector) {\n    const units = findUnitsInRadius(targetLocation, 500);\n    const enemies = units.filter(unit => caster.isEnemy(unit));\n\n    for (const enemy of enemies) {\n        enemy.kill();\n    }\n}\n"}function o(e){const t="code/"+r.a.compressToEncodedURIComponent(e);window.history.replaceState({},"","#"+t)}function i(e){return"/play/#code/"+r.a.compressToEncodedURIComponent(e)}},615:function(e,t,a){e.exports=function(){return new Worker(a.p+"fengari.worker.js")}},619:function(e,t,a){e.exports=function(){return new Worker(a.p+"ts.worker.js")}},620:function(e,t,a){var n={"./lib.d.ts":621,"./lib.es2015.collection.d.ts":622,"./lib.es2015.core.d.ts":623,"./lib.es2015.d.ts":624,"./lib.es2015.generator.d.ts":625,"./lib.es2015.iterable.d.ts":626,"./lib.es2015.promise.d.ts":627,"./lib.es2015.proxy.d.ts":628,"./lib.es2015.reflect.d.ts":629,"./lib.es2015.symbol.d.ts":630,"./lib.es2015.symbol.wellknown.d.ts":631,"./lib.es2016.array.include.d.ts":632,"./lib.es2016.d.ts":633,"./lib.es2016.full.d.ts":634,"./lib.es2017.d.ts":635,"./lib.es2017.full.d.ts":636,"./lib.es2017.intl.d.ts":637,"./lib.es2017.object.d.ts":638,"./lib.es2017.sharedmemory.d.ts":639,"./lib.es2017.string.d.ts":640,"./lib.es2017.typedarrays.d.ts":641,"./lib.es2018.asyncgenerator.d.ts":642,"./lib.es2018.asynciterable.d.ts":643,"./lib.es2018.d.ts":644,"./lib.es2018.full.d.ts":645,"./lib.es2018.intl.d.ts":646,"./lib.es2018.promise.d.ts":647,"./lib.es2018.regexp.d.ts":648,"./lib.es2019.array.d.ts":649,"./lib.es2019.d.ts":650,"./lib.es2019.full.d.ts":651,"./lib.es2019.object.d.ts":652,"./lib.es2019.string.d.ts":653,"./lib.es2019.symbol.d.ts":654,"./lib.es2020.bigint.d.ts":655,"./lib.es2020.d.ts":656,"./lib.es2020.full.d.ts":657,"./lib.es2020.promise.d.ts":658,"./lib.es2020.string.d.ts":659,"./lib.es2020.symbol.wellknown.d.ts":660,"./lib.es5.d.ts":661,"./lib.es6.d.ts":662,"./lib.esnext.array.d.ts":663,"./lib.esnext.asynciterable.d.ts":664,"./lib.esnext.bigint.d.ts":665,"./lib.esnext.d.ts":666,"./lib.esnext.full.d.ts":667,"./lib.esnext.intl.d.ts":668,"./lib.esnext.symbol.d.ts":669};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=620},670:function(e,t,a){var n={"./coroutine.d.ts":671,"./debug.d.ts":672,"./global.d.ts":673,"./index.d.ts":674,"./io.d.ts":675,"./math.d.ts":676,"./metatable.d.ts":677,"./modules.d.ts":678,"./os.d.ts":679,"./string.d.ts":680,"./table.d.ts":681};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=670},686:function(e,t,a){e.exports={navbar:"navbar_2WwY",navbarVersion:"navbarVersion_WEx5",content:"content_13-L",contentPane:"contentPane_JaAR",outputEditor:"outputEditor_1yiM",outputControls:"outputControls_3yi_",editorOutput:"editorOutput_3sJH",editorOutputLineNumbers:"editorOutputLineNumbers_1Y45",editorOutputTerminal:"editorOutputTerminal_2Q-0"}},690:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(274),r=a(500),s=a(0),o=a.n(s),i=a(501),l=a.n(i),c=a(606),u=a.n(c),d=a(613),p=a(614),b=a(615),m=a.n(b);var f=a(292),O=(a(12),a(272)),E=(a(689),a(616),a(617),a(691),a(618)),y=a.n(E),w=a(619),h=a.n(w);function g(e){for(const t of e.keys())O.languages.typescript.typescriptDefaults.addExtraLib(e(t).default)}globalThis.MonacoEnvironment={getWorker:(e,t)=>"typescript"===t?new h.a:new y.a},g(a(620)),g(a(670));for(const I of[a(682),a(683),a(684),a(685)])O.languages.typescript.typescriptDefaults.addExtraLib(I.default);function v(){const{isDarkTheme:e}=Object(n.a)();return e?"vs-dark":"vs"}var x=a(686),S=a.n(x);let T=new m.a;const k=o.a.createContext(null);function L({children:e}){const[t,a]=Object(s.useState)({source:"",lua:"",ast:{},sourceMap:"",results:[]}),n=Object(s.useCallback)(async e=>{const t=await O.languages.typescript.getTypeScriptWorker(),n=await t(e.uri),{lua:r,ast:s,sourceMap:o}=await n.getTranspileOutput(e.uri.toString()),i=e.getValue();a({source:i,lua:r,ast:s,sourceMap:o,results:[]});const l=await async function(e){return new Promise(t=>{const a=setTimeout(()=>{t([{type:"print",text:"Lua code execution timed out"}]),T.terminate(),T=new m.a},2500);T.postMessage({code:e}),T.addEventListener("message",e=>{clearTimeout(a),t(e.data.messages)})})}(r);a({source:i,lua:r,ast:s,sourceMap:o,results:l})},[]);return o.a.createElement(k.Provider,{value:{updateModel:n,...t}},e)}const N={minimap:{enabled:!1},automaticLayout:!0,scrollbar:{useShadows:!1}};function C(){const e=v(),t=Object(s.useRef)(null),{updateModel:a}=Object(s.useContext)(k);Object(s.useEffect)(()=>{a(t.current.editor.getModel())},[]);const n=Object(s.useCallback)(function(e,t){let a;return(...n)=>{clearTimeout(a),a=setTimeout(()=>e(...n),t)}}(e=>{Object(f.c)(e),a(t.current.editor.getModel())},250),[]);return o.a.createElement("div",{className:S.a.contentPane},o.a.createElement(u.a,{theme:e,language:"typescript",defaultValue:Object(f.a)(),options:N,onChange:n,ref:t}))}const j={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#1e1e1e",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},M={0:"Block",1:"DoStatement",2:"VariableDeclarationStatement",3:"AssignmentStatement",4:"IfStatement",5:"WhileStatement",6:"RepeatStatement",7:"ForStatement",8:"ForInStatement",9:"GotoStatement",10:"LabelStatement",11:"ReturnStatement",12:"BreakStatement",13:"ExpressionStatement",14:"StringLiteral",15:"NumericLiteral",16:"NilKeyword",17:"DotsKeyword",18:"TrueKeyword",19:"FalseKeyword",20:"FunctionExpression",21:"TableFieldExpression",22:"TableExpression",23:"UnaryExpression",24:"BinaryExpression",25:"CallExpression",26:"MethodCallExpression",27:"Identifier",28:"TableIndexExpression",29:"AdditionOperator",30:"SubtractionOperator",31:"MultiplicationOperator",32:"DivisionOperator",33:"FloorDivisionOperator",34:"ModuloOperator",35:"PowerOperator",36:"NegationOperator",37:"ConcatOperator",38:"LengthOperator",39:"EqualityOperator",40:"InequalityOperator",41:"LessThanOperator",42:"LessEqualOperator",43:"GreaterThanOperator",44:"GreaterEqualOperator",45:"AndOperator",46:"OrOperator",47:"NotOperator",48:"BitwiseAndOperator",49:"BitwiseOrOperator",50:"BitwiseExclusiveOrOperator",51:"BitwiseRightShiftOperator",52:"BitwiseLeftShiftOperator",53:"BitwiseNotOperator",Block:0,DoStatement:1,VariableDeclarationStatement:2,AssignmentStatement:3,IfStatement:4,WhileStatement:5,RepeatStatement:6,ForStatement:7,ForInStatement:8,GotoStatement:9,LabelStatement:10,ReturnStatement:11,BreakStatement:12,ExpressionStatement:13,StringLiteral:14,NumericLiteral:15,NilKeyword:16,DotsKeyword:17,TrueKeyword:18,FalseKeyword:19,FunctionExpression:20,TableFieldExpression:21,TableExpression:22,UnaryExpression:23,BinaryExpression:24,CallExpression:25,MethodCallExpression:26,Identifier:27,TableIndexExpression:28,AdditionOperator:29,SubtractionOperator:30,MultiplicationOperator:31,DivisionOperator:32,FloorDivisionOperator:33,ModuloOperator:34,PowerOperator:35,NegationOperator:36,ConcatOperator:37,LengthOperator:38,EqualityOperator:39,InequalityOperator:40,LessThanOperator:41,LessEqualOperator:42,GreaterThanOperator:43,GreaterEqualOperator:44,AndOperator:45,OrOperator:46,NotOperator:47,BitwiseAndOperator:48,BitwiseOrOperator:49,BitwiseExclusiveOrOperator:50,BitwiseRightShiftOperator:51,BitwiseLeftShiftOperator:52,BitwiseNotOperator:53};function B({ast:e}){const{isDarkTheme:t}=Object(n.a)();return o.a.createElement(l.a,{data:e,hideRoot:!0,theme:j,invertTheme:!t,valueRenderer:(e,t,a)=>"kind"===a?o.a.createElement("em",null,M[t]):o.a.createElement("em",null,e)})}function D(){const e=v(),{source:t,lua:a,sourceMap:n,ast:i,results:l}=Object(s.useContext)(k),[c,d]=Object(s.useState)(!1),p=Object(s.useCallback)(()=>d(e=>!e),[]),b=Object(s.useMemo)(()=>"https://sokra.github.io/source-map-visualization#base64,"+[a,n,t].map(e=>btoa(e.replace(/[^\x00-\x7F]/g,"?"))).join(","),[a,n,t]);return o.a.createElement("div",{className:S.a.contentPane},o.a.createElement("div",{className:S.a.outputEditor},o.a.createElement("div",{style:{height:"100%",display:c?"none":"block"}},o.a.createElement(u.a,{theme:e,language:"lua",value:a,options:{...N,scrollBeyondLastLine:!1,scrollBeyondLastColumn:15,readOnly:!0}})),o.a.createElement("div",{style:{height:"100%",overflow:"auto",display:c?"block":"none"}},o.a.createElement(B,{ast:i})),o.a.createElement("div",{className:S.a.outputControls},o.a.createElement("button",{className:Object(r.a)("button button--outline button--primary",!c&&"button--active"),onClick:p},c?"Lua AST":"TEXT"),o.a.createElement("a",{className:"button button--success",href:b,target:"_blank"},"Source Map"))),o.a.createElement("div",{className:S.a.editorOutput},o.a.createElement("div",{className:S.a.editorOutputLineNumbers},">_"),o.a.createElement("div",{className:S.a.editorOutputTerminal},l.map((e,t)=>o.a.createElement("div",{key:t},e.text)))))}function F(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("nav",{className:S.a.navbar},o.a.createElement("div",{className:S.a.navbarVersion},"TSTL"," ",o.a.createElement("a",{href:"https://github.com/TypeScriptToLua/TypeScriptToLua/blob/master/CHANGELOG.md",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("b",null,"v",d.a)),o.a.createElement("br",null),"\xa0\xa0TS ",o.a.createElement("b",null,"v",p.a))),o.a.createElement("div",{className:S.a.content},o.a.createElement(L,null,o.a.createElement(C,null),o.a.createElement(D,null))))}}}]);