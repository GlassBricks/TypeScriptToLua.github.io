(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{106:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return o}));var n=a(280),r=a(0),l=a.n(r),c=a(517);function o(){const e="undefined"==typeof window;return l.a.createElement(n.a,{title:"Benchmark"},!e&&l.a.createElement(c.a,null))}},517:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return g}));var n=a(406),r=a(0),l=a.n(r),c=a(520),o=a(543),u=a(544),i=a(792),s=a(545);const m=e=>e.replace(".lua","").split("/").pop(),d=e=>Math.round(e/10)/100+" Mb",f=e=>e.categories[o.a.Garbage],h=e=>(f(e.right)-f(e.left))/f(e.left);function g(){let t=Object(r.useRef)(null),a=Object(r.useRef)(null);const g=function(t){const a=JSON.parse(c.inflateSync(e.from(t,"base64")).toString()),n=a.old,r=a.new;return Object(u.a)(n,r,e=>e.benchmarkName)}(window.location.search.split("?d=")[1]).sort((e,t)=>h(e)-h(t)),p=g.map((e,t)=>{const a=h(e),n=0===a?"currentColor":a>0?"red":"green";return l.a.createElement("tr",{key:t,style:{color:n}},l.a.createElement("td",null,e.left.benchmarkName),l.a.createElement("td",null,d(f(e.left))),l.a.createElement("td",null,d(f(e.right))),l.a.createElement("td",null,a))}),b=g.map(e=>{const t=e.left.categories[o.a.Garbage],a=e.right.categories[o.a.Garbage];return{name:m(e.left.benchmarkName||e.right.benchmarkName),value:100*(a-t)/t}}),w=g.map(e=>({name:m(e.left.benchmarkName||e.right.benchmarkName),oldValue:e.left.categories[o.a.Garbage]||0,newValue:e.right.categories[o.a.Garbage]||0}));return Object(r.useEffect)(()=>{Object(s.a)(n.h(t.current),b,1e3,300),Object(i.a)(n.h(a.current),w,1e3,300)}),l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Benchmark results"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",{style:{fontWeight:"bold"}},l.a.createElement("td",null,"Benchmark"),l.a.createElement("td",null,"Garbage Master"),l.a.createElement("td",null,"Garbage Commit"),l.a.createElement("td",null,"% Change"))),l.a.createElement("tbody",null,p)),l.a.createElement("h2",null,"Garbage created change"),l.a.createElement("svg",{ref:t,width:1e3,height:300}),l.a.createElement("h2",null,"Garbage created"),l.a.createElement("svg",{ref:a,width:1e3,height:300}))}}).call(this,a(265).Buffer)},522:function(e,t){},524:function(e,t){},543:function(e,t,a){"use strict";let n,r;a.d(t,"a",(function(){return r})),function(e){e.Memory="memory"}(n||(n={})),function(e){e.TotalMemory="totalMemory",e.Garbage="garbage"}(r||(r={}))},544:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(12);function n(e,t,a){const n=new Map;for(const r of e)n.set(a(r),{left:r});for(const r of t){const e=a(r),t=n.get(e);t?t.right=r:n.set(e,{right:r})}return[...n.values()]}},545:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(406);const r=50,l=5,c=1;function o(e,t,a,o){const u=n.d(t.map(e=>e.value)),i=n.c(t.map(e=>e.value)),s=n.f().domain([1.2*u,1.2*i]).range([0,o-10]),m=n.b(s),d=n.e().domain(t.map(e=>e.name)).range([r,a-c]),f=d.bandwidth(),h=n.a(d);e.append("g").attr("transform",`translate(0, ${s(0)+5})`).call(h),e.append("g").attr("transform",`translate(${r}, ${l})`).call(m);const g=e=>Math.abs(o/2-s(e)),p=e.selectAll("rect").data(t).enter();return p.append("rect").attr("width",25).attr("x",e=>d(e.name)+.5*f-12.5).attr("height",e=>g(e.value)-1).attr("y",e=>e.value>0?o/2+10:o/2+10-g(e.value)).style("fill",e=>e.value>0?"red":"green"),p.append("text").text(e=>`${e.value>0?"+":""}${Math.round(100*e.value)/100}%`).attr("x",e=>d(e.name)+.5*f).attr("y",e=>e.value>0?o/2+g(e.value)+30:o/2-g(e.value)).style("fill","currentColor").style("text-anchor","middle"),e}},792:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(406);a(12);const r=50,l=5,c=1;function o(e,t,a,o){const u=o-50,i=n.e().domain(t.map(e=>e.name)).range([r,a-c]),s=i.bandwidth(),m=n.a(i);e.append("g").attr("transform",`translate(0, ${u})`).call(m);const d=n.c(t.map(e=>Math.max(e.oldValue,e.newValue))),f=Math.pow(10,Math.ceil(Math.log10(d))),h=n.g().domain([1,f]).range([u-l,0]),g=n.b(h);e.append("g").attr("transform",`translate(${r}, ${l})`).call(g);const p=e.selectAll("rect").data(t).enter();p.append("rect").attr("width",25).attr("x",e=>i(e.name)+.5*s-25-1).attr("height",e=>u-h(e.oldValue)).attr("y",e=>h(e.oldValue)).style("fill","#888888"),p.append("rect").attr("width",25).attr("x",e=>i(e.name)+.5*s+1).attr("height",e=>u-h(e.newValue)).attr("y",e=>h(e.newValue)).style("fill","#007ACC");const b=[["Master","#888888"],["Commit","#007ACC"]];return function(e,t){const a=e.append("g");for(const[n,[r,l]]of t.entries())a.append("rect").attr("width",15).attr("height",15).attr("x",100*n).style("fill",l).style("stroke","currentColor"),a.append("text").attr("x",100*n+20).attr("y",13).text(r).attr("fill","currentColor");return a}(e,b).attr("transform",`translate(${a-100*b.length-c}, ${o-20})`),e}}}]);